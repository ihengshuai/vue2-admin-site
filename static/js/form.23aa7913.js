"use strict";(globalThis["webpackChunkvue2_admin"]=globalThis["webpackChunkvue2_admin"]||[]).push([[680],{50714:(e,a,l)=>{l.r(a),l.d(a,{default:()=>g});var t,r=function(){var e=this,a=e._self._c;e._self._setupProxy;return a("CPanel",{attrs:{fit:""}},[a("div",{staticClass:"fx fx-end mb-20"},[a("a-button",{attrs:{loading:e.formLoading,type:"primary"},on:{click:e.handleSubmitForm}},[e._v(" "+e._s(e.$t("submit"))+" ")]),a("a-button",{staticClass:"ml-10",on:{click:e.clearModel}},[e._v(" "+e._s(e.$t("reset"))+" ")]),a("a-button",{staticClass:"ml-10",on:{click:e.loadPageData}},[e._v(" 刷新 ")])],1),a("a-spin",{attrs:{spinning:e.formLoading||e.pageLoading}},[a("a-form-model",{ref:"form",attrs:{colon:!1,rules:e.rules,model:e.model,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,"label-align":"right"}},[a("a-form-model-item",{attrs:{required:"",label:e.model.name.label(),prop:"name"}},[a("a-input",{model:{value:e.model.name.value,callback:function(a){e.$set(e.model.name,"value",a)},expression:"model.name.value"}})],1),a("a-form-model-item",{attrs:{label:"年龄",prop:"age"}},[a("a-input",{model:{value:e.model.age.value,callback:function(a){e.$set(e.model.age,"value",a)},expression:"model.age.value"}})],1),a("a-form-model-item",{attrs:{label:"性别",prop:"sex"}},[a("a-radio-group",{model:{value:e.model.sex.value,callback:function(a){e.$set(e.model.sex,"value",a)},expression:"model.sex.value"}},[a("a-radio",{attrs:{value:"1"}},[e._v("男")]),a("a-radio",{attrs:{value:"0"}},[e._v("女")])],1)],1),a("a-form-model-item",{attrs:{label:"不会提交",prop:"friend"}},[a("a-input",{model:{value:e.model.friend.value,callback:function(a){e.$set(e.model.friend,"value",a)},expression:"model.friend.value"}})],1),a("a-form-model-item",{attrs:{label:"国籍",prop:"country"}},[a("a-input",{model:{value:e.model.country.value,callback:function(a){e.$set(e.model.country,"value",a)},expression:"model.country.value"}})],1),a("a-form-model-item",{attrs:{label:"城市",prop:"city"}},[a("a-input",{model:{value:e.model.city.value,callback:function(a){e.$set(e.model.city,"value",a)},expression:"model.city.value"}})],1),a("div",[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("a-form-model-item",{attrs:{label:"收入",prop:"income"}},[a("a-input",{model:{value:e.model.income.value,callback:function(a){e.$set(e.model.income,"value",a)},expression:"model.income.value"}})],1)],1),a("div",[a("a-button",{attrs:{loading:e.formLoading,type:"primary"},on:{click:e.handleSubmitForm}},[e._v(" "+e._s(e.$t("submit"))+" ")])],1)],1)],1)},o=[],n=l(61369),i=l(56800),s=l(74889),u=l(18402),m=function(e,a,l,t){var r,o=arguments.length,n=o<3?a:null===t?t=Object.getOwnPropertyDescriptor(a,l):t;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,a,l,t);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(n=(o<3?r(n):o>3?r(a,l,n):r(a,l))||n);return o>3&&n&&Object.defineProperty(a,l,n),n},d=function(e,a){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,a)};let c=class extends((0,u.Wr)(i.T2,i.Ys,i.UT,i.h$)){constructor(...e){super(...e),(0,n.Z)(this,"useService",void 0),(0,n.Z)(this,"data",null),(0,n.Z)(this,"model",{name:{label:()=>this.$t("name"),value:null},age:{value:null,type:Number},sex:{value:null,transform:e=>isNaN(e)?1:e>>0},friend:{value:"默认值...",isForm:!1},country:{value:null,field:"address.country"},city:{value:null,field:"address.city"},income:{value:null,transform:e=>null===e||isNaN(e)?null:e>>0}}),(0,n.Z)(this,"labelCol",{span:4}),(0,n.Z)(this,"wrapperCol",{span:12})}get formRules(){return[{key:"name",rules:()=>[{validator:(e,a,l)=>{a.value?.length?l():l(this.$t("required_name"))}}]},{key:"income",rules:()=>[{validator:(e,a,l)=>{null===a.value||isNaN(a.value)?l("请输入合法收入"):l()}}]}]}get leaveInitData(){return this.data}get leaveNewestData(){return this.getFormValues()}async handleRequestForm(e){console.log(e);const a=await this.useService.updateUser(+new Date,e);console.log(a)}async getPageData(){return await this.useService.getUser(+new Date)}onDataChange(e){e&&this.initFormModel(e,{sex:(e,a)=>String(e)})}beforeRouteLeave(e,a,l){this.beforeRouteLeave(e,a,l)}};m([s.t6,d("design:type","function"===typeof(t="undefined"!==typeof s.KD&&s.KD)?t:Object)],c.prototype,"useService",void 0),m([(0,u.RL)("data",{immediate:!0}),d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],c.prototype,"onDataChange",null),c=m([u.wA],c);const b=c,p=b;var v=l(43736),f=(0,v.Z)(p,r,o,!1,null,null,null);const g=f.exports}}]);